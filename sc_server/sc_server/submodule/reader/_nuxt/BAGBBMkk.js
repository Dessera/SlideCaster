import{g as R}from"./Cr-Uwpqp.js";import{u as ie,a as te,b as ae,c as le,d as ce,F as j}from"./G9Zi20Z4.js";import{d as G,J as ee,K as se,i as I,r as H,F as ne,L as re,_ as C,M as de,z as c,N as oe,O as E,P as W,Q as d,R as X,S as ue,T as he,U as ge,V as we,W as pe,X as Se,Y as me,Z as fe,$ as ve,o as $e,a0 as Me,a1 as Ie,a2 as be,a3 as K,a4 as ye,a5 as Q,a6 as xe,a7 as Ce,v as ze,A as v,a8 as g,t as Pe,x as N,a9 as J,B as Y}from"./DRufy4CT.js";import{u as Ee,a as Oe,U as Z,C as He}from"./DQrfmnUv.js";const Ae={small:8,middle:16,large:24},_e=()=>({prefixCls:String,size:{type:[String,Number,Array]},direction:d.oneOf(X("horizontal","vertical")).def("horizontal"),align:d.oneOf(X("start","end","center","baseline")),wrap:ue()});function Be(e){return typeof e=="string"?Ae[e]:e||0}const O=G({compatConfig:{MODE:3},name:"ASpace",inheritAttrs:!1,props:_e(),slots:Object,setup(e,n){let{slots:i,attrs:l}=n;const{prefixCls:s,space:u,direction:S}=ee("space",e),[P,b]=se(s),y=Ee(),$=I(()=>{var r,p,M;return(M=(r=e.size)!==null&&r!==void 0?r:(p=u==null?void 0:u.value)===null||p===void 0?void 0:p.size)!==null&&M!==void 0?M:"small"}),o=H(),x=H();ne($,()=>{[o.value,x.value]=(Array.isArray($.value)?$.value:[$.value,$.value]).map(r=>Be(r))},{immediate:!0});const w=I(()=>e.align===void 0&&e.direction==="horizontal"?"center":e.align),a=I(()=>re(s.value,b.value,`${s.value}-${e.direction}`,{[`${s.value}-rtl`]:S.value==="rtl",[`${s.value}-align-${w.value}`]:w.value})),m=I(()=>S.value==="rtl"?"marginLeft":"marginRight"),h=I(()=>{const r={};return y.value&&(r.columnGap=`${o.value}px`,r.rowGap=`${x.value}px`),C(C({},r),e.wrap&&{flexWrap:"wrap",marginBottom:`${-x.value}px`})});return()=>{var r,p;const{wrap:M,direction:V="horizontal"}=e,A=(r=i.default)===null||r===void 0?void 0:r.call(i),_=de(A),B=_.length;if(B===0)return null;const z=(p=i.split)===null||p===void 0?void 0:p.call(i),t=`${s.value}-item`,f=o.value,U=B-1;return c("div",E(E({},l),{},{class:[a.value,l.class],style:[h.value,l.style]}),[_.map((q,T)=>{let L=A.indexOf(q);L===-1&&(L=`$$space-${T}`);let D={};return y.value||(V==="vertical"?T<U&&(D={marginBottom:`${f/(z?2:1)}px`}):D=C(C({},T<U&&{[m.value]:`${f/(z?2:1)}px`}),M&&{paddingBottom:`${x.value}px`})),P(c(oe,{key:L},[c("div",{class:t,style:D},[q]),T<U&&z&&c("span",{class:`${t}-split`,style:D},[z])]))})])}}});O.Compact=W;O.install=function(e){return e.component(O.name,O),e.component(W.name,W),e};const Te=e=>{const{componentCls:n}=e,i=`${n}-inner`;return{[n]:{[`&${n}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${i}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${n}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${n}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},De=e=>{const{componentCls:n}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},Fe=e=>{const{componentCls:n}=e,i=`${n}-handle`;return{[n]:{[i]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${i}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${n}-disabled):active`]:{[`${i}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${i}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Ve=e=>{const{componentCls:n}=e,i=`${n}-inner`;return{[n]:{[i]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${i}-checked, ${i}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${i}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${i}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${n}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},Ue=e=>{const{componentCls:n}=e;return{[n]:C(C(C(C({},pe(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Se(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},Le=he("Switch",e=>{const n=e.fontSize*e.lineHeight,i=e.controlHeight/2,l=2,s=n-l*2,u=i-l*2,S=ge(e,{switchMinWidth:s*2+l*4,switchHeight:n,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:s/2,switchInnerMarginMax:s+l+l*2,switchPadding:l,switchPinSize:s,switchBg:e.colorBgContainer,switchMinWidthSM:u*2+l*2,switchHeightSM:i,switchInnerMarginMinSM:u/2,switchInnerMarginMaxSM:u+l+l*2,switchPinSizeSM:u,switchHandleShadow:`0 2px 4px 0 ${new we("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Ue(S),Ve(S),Fe(S),De(S),Te(S)]}),Re=X("small","default"),je=()=>({id:String,prefixCls:String,size:d.oneOf(Re),disabled:{type:Boolean,default:void 0},checkedChildren:d.any,unCheckedChildren:d.any,tabindex:d.oneOfType([d.string,d.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:d.oneOfType([d.string,d.number,d.looseBool]),checkedValue:d.oneOfType([d.string,d.number,d.looseBool]).def(!0),unCheckedValue:d.oneOfType([d.string,d.number,d.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),Ne=G({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:je(),slots:Object,setup(e,n){let{attrs:i,slots:l,expose:s,emit:u}=n;const S=Oe(),P=fe(),b=I(()=>{var t;return(t=e.disabled)!==null&&t!==void 0?t:P.value});ve(()=>{});const y=H(e.checked!==void 0?e.checked:i.defaultChecked),$=I(()=>y.value===e.checkedValue);ne(()=>e.checked,()=>{y.value=e.checked});const{prefixCls:o,direction:x,size:w}=ee("switch",e),[a,m]=Le(o),h=H(),r=()=>{var t;(t=h.value)===null||t===void 0||t.focus()};s({focus:r,blur:()=>{var t;(t=h.value)===null||t===void 0||t.blur()}}),$e(()=>{Me(()=>{e.autofocus&&!b.value&&h.value.focus()})});const M=(t,f)=>{b.value||(u("update:checked",t),u("change",t,f),S.onFieldChange())},V=t=>{u("blur",t)},A=t=>{r();const f=$.value?e.unCheckedValue:e.checkedValue;M(f,t),u("click",f,t)},_=t=>{t.keyCode===Q.LEFT?M(e.unCheckedValue,t):t.keyCode===Q.RIGHT&&M(e.checkedValue,t),u("keydown",t)},B=t=>{var f;(f=h.value)===null||f===void 0||f.blur(),u("mouseup",t)},z=I(()=>({[`${o.value}-small`]:w.value==="small",[`${o.value}-loading`]:e.loading,[`${o.value}-checked`]:$.value,[`${o.value}-disabled`]:b.value,[o.value]:!0,[`${o.value}-rtl`]:x.value==="rtl",[m.value]:!0}));return()=>{var t;return a(c(ye,null,{default:()=>[c("button",E(E(E({},Ie(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),i),{},{id:(t=e.id)!==null&&t!==void 0?t:S.id.value,onKeydown:_,onClick:A,onBlur:V,onMouseup:B,type:"button",role:"switch","aria-checked":y.value,disabled:b.value||e.loading,class:[i.class,z.value],ref:h}),[c("div",{class:`${o.value}-handle`},[e.loading?c(be,{class:`${o.value}-loading-icon`},null):null]),c("span",{class:`${o.value}-inner`},[c("span",{class:`${o.value}-inner-checked`},[K(l,e,"checkedChildren")]),c("span",{class:`${o.value}-inner-unchecked`},[K(l,e,"unCheckedChildren")])])])]}))}}}),We=me(Ne);var Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function k(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable}))),l.forEach(function(s){Ge(e,s,i[s])})}return e}function Ge(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}var F=function(n,i){var l=k({},n,i.attrs);return c(xe,k({},l,{icon:Xe}),null)};F.displayName="UploadOutlined";F.inheritAttrs=!1;const qe={class:"w-full h-full overflow-hidden p-3"},Ze=G({__name:"config",setup(e){const{message:n}=Ce.useApp(),i=H(!1),l=I(()=>!i.value),{data:s,isError:u}=ie(l),{mutateAsync:S}=te(),{mutateAsync:P}=ae(),{mutateAsync:b}=le(),{mutateAsync:y}=ce(),$=async w=>{i.value=!0,console.log(w);try{w?(await S(),n.success("服务启动成功")):(await P(),n.success("服务停止成功"))}catch(a){const m=R(a);n.error(`服务操作失败：${m}`)}finally{i.value=!1}},o=async w=>{const{onError:a,onSuccess:m}=w,h=w.file;try{await b(h),m==null||m("ok"),n.success(`上传映射文件 ${h.name} 成功`)}catch(r){const p=R(r);a==null||a(new Error(p)),n.error(`上传映射文件 ${h.name} 失败：${p}`)}},x=async w=>{const{onError:a,onSuccess:m}=w,h=w.file;try{await y(h),m==null||m("ok"),n.success(`上传模型文件 ${h.name} 成功`)}catch(r){const p=R(r);a==null||a(new Error(p)),n.error(`上传模型文件 ${h.name} 失败：${p}`)}};return(w,a)=>(Pe(),ze("div",qe,[c(g(He),{title:"服务配置"},{default:v(()=>[c(g(O),{class:"w-full",direction:"vertical",size:"large"},{default:v(()=>[c(g(j),{justify:"space-between"},{default:v(()=>[a[0]||(a[0]=N("span",null,"服务状态",-1)),c(g(We),{checked:g(s),loading:g(i),disabled:g(u),"onUpdate:checked":$},null,8,["checked","loading","disabled","onUpdate:checked"])]),_:1}),c(g(j),{justify:"space-between"},{default:v(()=>[a[3]||(a[3]=N("span",null,"映射文件",-1)),c(g(Z),{"custom-request":o},{itemRender:v(()=>a[2]||(a[2]=[])),default:v(()=>[c(g(J),null,{default:v(()=>[c(g(F)),a[1]||(a[1]=Y(" 点击上传 "))]),_:1})]),_:1})]),_:1}),c(g(j),{justify:"space-between"},{default:v(()=>[a[6]||(a[6]=N("span",null,"模型文件",-1)),c(g(Z),{"custom-request":x},{itemRender:v(()=>a[5]||(a[5]=[])),default:v(()=>[c(g(J),null,{default:v(()=>[c(g(F)),a[4]||(a[4]=Y(" 点击上传 "))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{Ze as default};
